#!/usr/bin/env bash

function vault_get() {
  tcctl vault token
  VAULT_SECRET_PATH=$1
  ENV_TEMP=$2
  MSG="Get from vault"
  vault kv get $VAULT_SECRET_PATH | sed 's/\ \{1,\}/=/g' | sed 1,11d > $ENV_TEMP \
  || tcctl vault messageError "Error. $MSG"
}

vault_get $1 $2
